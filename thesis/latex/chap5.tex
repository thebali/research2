\chapter{Methodology}

\section{Dataset}

\subsection{Data Gathering}
In order to get the required material to achieve this dissertation, files containing consumer reviews for diverse products derived from Amazon.com were used. These files were collected by Julian McAuley, researcher at the University of California, and were available on the following website: http://jmcauley.ucsd.edu/data/amazon/. The extracted files only represented a subset of the data in which all items and users had at least 5 reviews (5-core). Duplicates, accounting for less than 1 percent of reviews, were removed.

This dataset contains product reviews and metadata from Amazon, including 142.8 million reviews spanning May 1996 - July 2014.

This dataset includes reviews (ratings, text, helpfulness votes), product metadata (descriptions, category information, price, brand, and image features), and links (also viewed/also bought graphs). 

Each product review is provided with the following labels:
\begin{itemize}
\item reviewerID: the ID of the reviewer
\item asin (Amazon Standard Identification Number): the product ID of the item being reviewed
\item reviewerName: the name of the reviewer
\item helpful: helpfulness rating of the review (fraction of users who found the review helpful)
\item reviewText: the text of the review corresponding to the comment of the reviewer
\item overall: the rating of the product, out of five stars
\item summary: the summary of the review
\item unixReviewTime: time of the review (unix time)
\item reviewTime: time of the review in mm/dd/yyyy
\end{itemize}

Sample review:
\begin{verbatim}
{
  "reviewerID": "A2SUAM1J3GNN3B",
  "asin": "0000013714",
  "reviewerName": "J. McDonald",
  "helpful": [2, 3],
  "reviewText": "I bought this for my husband who plays the piano. He is having a 
  wonderful time playing these old hymns. The music is at times hard to read
  because we think the book was published for singing from more than playing from. 
  Great purchase though!",
  "overall": 5.0,
  "summary": "Heavenly Highway Hymns",
  "unixReviewTime": 1252800000,
  "reviewTime": "09 13, 2009"
}
\end{verbatim}

From these labels, we extracted the following columns for analysis:
\begin{itemize}
	\item asin: the product ID of the item being reviewed
	\item reviewText: the text review
	\item overall: the corresponding overall rating of the text review
	\item reviewerID: the amazon user id of the user who posted the review
\end{itemize}

The remaining elements were considered irrelevant in the scope of this thesis work, as our work mostly focuses on creating Rating Matrix, Document-term Matrix, and other matrices. This data was retrieved from the json files with the help of Python programming language.

The amazon dataset contains the product reviews that are categorised in the many categories. In the framework of this thesis, we have decided to analyse two specific dataset categories: Digital Music and Health \& Personal Care. These categories were chosen to justify the two yet broad themes in the recommender systems: Experience products and Search Products. 

Experience products can be defined as products whose quality is difficult to evaluate as it largely depends upon the taste of the different customers. With these kinds of products the user has to buy the product, test it, to form an opinion of the product and thereby evaluating the product to write a review about it. Digital Music was the appropriate fit for this category.

While, search products are products that can be objectively evaluated through key characteristics. This characteristic information can be taken from the website itself, user may not need to buy the product to test it. For this theme of the recommender system, we found that Health \& Personal Care section has the features to justify the product being bought as the user needs information, i.e. ingredients, dosage size, direction of use, etc.

To end, the size of both the datasets was large with upto 230,000 reviews for the largest one. An additional step was performed to \textbf{manage the dataset} to a resonable size. The dataset was reduced to 10,000 product reviews that have been randomly sampled from the original dataset. This was essentially done to perform the experiments and test the hypothesis efficiently.


\subsection{choice of the variables}

Nonetheless, there is evidence that small improvements in RMSE terms can have a significant impact on the quality of the top few presented recommendations [16, 17].

\begin{verbatim}
Add these to show the RMSE importance...
16. Koren, Y., “Factorization Meets the Neighborhood: a Multifaceted Collaborative Filtering
Model”, Proc. 14th ACM SIGKDD International Conference on Knowledge Discovery and
Data Mining, 2008.
17. Koren, Y., “Factor in the Neighbors: Scalable and Accurate Collaborative Filtering ”, ACM
Transactions on Knowledge Discovery from Data (TKDD),4(2010):1–24.
\end{verbatim}

The variables are chosen on the basis of 




\section{Implementation}
\subsection{Approach}
We want to make the world judge the scenario of the improvement.

In the course of this thesis, many methods were tried and tested for the recommender systems. Many of them were done on the different datasets, but for the sake of a complete experiment with amazon dataset of the two categories decided as we have seen in the previous section. 

We will first make 


\subsection{Program}
In order to comprehensively describe the experiments made for thesis, a small application of the whole datasets has been implemented which will be fitting the models on the described datasets and evaluate each model on the accuracy basis, and thereafter write the results to the file for the record. The fitting is done using a \textit{4-fold cross validation} mechanism to balance the bad areas of the dataset with longer execution time. Moreover, various values are tried and tested to find the values that are suited best for the better results.

\subsection{Models}
Using graphlab library python interface, we applied SVD on the recommender factorization model. This yielded us with thorough details about the system.









\begin{itemize}
\item Always recommend items based on gender. (Men and women always buy the same items as other men and women, respectively)
\item Always recommend items based on age. (People at a certain age always buy same items as other people in the same age)
\item Always recommend items based on domicile. (People from city X always buy the same items as other people from city X)
\item Baselines have been used before any other extensive evaluation method, something that has been of great help when implementing the application, as these baselines can be seen as evaluation in its most basic form.

\end{itemize}

